<!--
  Generated template for the DenonciationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="danger">
    <ion-title>Dénoncer</ion-title>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
      <button ion-button="" icon-only="" (click)="takeImage()">
        <ion-icon name="camera"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <form [formGroup]="fGroup" (ngSubmit)="soumettre()">
    <ion-list>
      <ion-item>
        <ion-label>L'acte de la denonciation</ion-label>
        <ion-select formControlName="categorie">
          <ion-option *ngFor="let c of actes?.actes; let i = index" [value]="c.nom" [selected]="i === 0">
            {{c.nom}}
          </ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="erreur" *ngIf="categorie.hasError('required') && categorie.touched">
        <p></p>Veuillez selectionner un acte
      </ion-item>
      <ion-item>
        <ion-label>Message</ion-label>
        <ion-textarea cols="5" rows="5" formControlName="message">
          <p></p>Veuillez saisir votre dénonciation
        </ion-textarea>
      </ion-item>
      <ion-item class="erreur" *ngIf="message.hasError('required') && message.touched">
        <p></p>Veuillez saisir votre dénonciation
      </ion-item>
      <ion-item>
        <ion-label>Dans quelle Région l'acte dénoncé a eu lieu ?</ion-label>
        <ion-select formControlName="region">
          <ion-option [value]="r.nom" *ngFor="let r of regions?.regions; let i = index" [selected]="i === 0"> {{r.nom}} </ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="erreur" *ngIf="region.hasError('required') && region.touched">
        <p></p>Veuillez selectionner une région
      </ion-item>
      <ion-item id="ville">
        <ion-label>Dans quelle ville l'acte dénoncé a eu lieu ?</ion-label>
        <ion-select formControlName="departement">
          <ion-option [value]="d.nom" *ngFor="let d of departements?.villes; let i = index" [selected]="i===0" > {{d.nom}} </ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="erreur" *ngIf="departement.hasError('required') && departement.touched">
        <p></p>Veuillez selectionner une ville
      </ion-item>
      <ion-item>
        <ion-label>Spécifiez le secteur/domaine ou l'acte dénoncé s'est déroulé</ion-label>
        <ion-select formControlName="secteur">
          <ion-option [value]="s.libelle" *ngFor="let s of secteurs?.secteurs; let i = index" [selected]="i===0" >
            {{s.libelle}}
          </ion-option>
        </ion-select>
      </ion-item>
      <ion-item class="erreur" *ngIf="secteur.hasError('required') && secteur.touched">
        <p></p>L'objet est incorrect !
      </ion-item>
      <ion-item>
        <ion-label>Dépuis quand l'acte dénoncé dure t-il ?</ion-label>
        <ion-select formControlName="duree">
          <ion-option>Actuellement</ion-option>
          <ion-option>Depuis 3 - 6 mois </ion-option>
          <ion-option>Un an et plus</ion-option>
          <ion-option>Inconnu </ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Dépuis quand avez-vous pris connaissance de l'acte ?</ion-label>
        <ion-select formControlName="periode">
          <ion-option>Moins 3 - 7 jours</ion-option>
          <ion-option>Depuis 3 - 6 mois </ion-option>
          <ion-option>Entre 3 et 12 mois</ion-option>
          <ion-option>Plus d'un an</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Votre email</ion-label>
        <ion-input type="text" formControlName="email"></ion-input>
      </ion-item>
      <ion-item>
        <img src="{{photo}}" class="cadre">
      </ion-item>
      <ion-item>
        <button ion-button="" end="" (click)="takeFile()">
          <ion-icon name="attach"></ion-icon>
        </button>
      </ion-item>
      <button block ion-button type="submit" [disabled]="!fGroup.valid">Soumettre</button>
    </ion-list>
  </form>
  <p> Pour une bonne gouvernance, <span style="color: red"> je m'engage... </span> </p>
</ion-content>

<ion-footer>
  <ion-navbar color="danger"></ion-navbar>
</ion-footer>
